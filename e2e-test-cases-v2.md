# TML Villa 端到端测试用例 v2

**测试日期**: 2026-02-22  
**测试工具**: agent-browser CLI (--headed)  
**测试环境**: 
- 前端: http://localhost:5173
- 后端: http://localhost:3000

**测试账号**:
- 普通用户: test@example.com / password123
- 管理员: admin / admin123

---

## 测试用例列表

### 一、F004 用户认证

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-001 | 用户登录 | 无 | 1. 访问 /#/login<br>2. 输入 test@example.com<br>3. 输入 password123<br>4. 点击 Login | 登录成功，导航栏显示用户头像 |
| TC-002 | 错误密码登录 | 无 | 1. 访问 /#/login<br>2. 输入正确邮箱<br>3. 输入错误密码<br>4. 点击 Login | 显示错误提示，停留在登录页 |
| TC-003 | 用户登出 | 已登录 | 1. 点击用户头像<br>2. 点击 Logout | 登出成功，导航栏显示 Login 按钮 |
| TC-004 | 未登录访问用户中心 | 未登录 | 1. 访问 /#/user | 重定向到登录页 |

---

### 二、F019 多语言

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-005 | 语言切换菜单 | 无 | 1. 访问首页<br>2. 点击语言按钮(EN/ZH/TH) | 显示三种语言选项: ไทย, English, 中文 |
| TC-006 | 切换到泰语 | 无 | 1. 点击语言按钮<br>2. 选择 ไทย | 页面切换为泰语，导航栏显示泰文 |
| TC-007 | 切换到中文 | 无 | 1. 点击语言按钮<br>2. 选择 中文 | 页面切换为中文 |
| TC-008 | 语言持久化 | 无 | 1. 切换到泰语<br>2. 刷新页面(F5) | 页面保持泰语显示 |

---

### 三、F009 用户中心

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-009 | 用户中心页面 | 已登录 | 1. 点击用户头像<br>2. 点击 Personal Center | 显示用户信息、统计数据、标签页 |
| TC-010 | 用户统计信息 | 已登录 | 1. 进入用户中心 | 显示订单数、消息数、收藏数、评价数 |
| TC-011 | 我的订单标签 | 已登录 | 1. 进入用户中心<br>2. 点击"我的订单" | 显示订单列表或"暂无订单"提示 |
| TC-012 | 我的收藏标签 | 已登录 | 1. 进入用户中心<br>2. 点击"我的收藏" | 显示收藏列表或"暂无收藏"提示 |

---

### 四、F018 收藏功能

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-013 | 收藏民宿 | 已登录 | 1. 访问首页<br>2. 点击房源卡片心形按钮 | 按钮状态变化，显示收藏成功提示 |
| TC-014 | 取消收藏 | 已登录且有收藏 | 1. 点击已收藏的心形按钮 | 按钮状态变化，显示取消提示 |
| TC-015 | 未登录收藏 | 未登录 | 1. 点击房源心形按钮 | 提示需要登录，跳转登录页 |
| TC-016 | 收藏状态同步 | 已登录 | 1. 在首页收藏<br>2. 进入用户中心收藏列表 | 收藏列表显示该房源 |

---

### 五、F017 搜索功能

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-017 | 关键词搜索 | 无 | 1. 访问 /#/search<br>2. 输入"普吉岛"<br>3. 按回车 | 显示包含"普吉岛"的搜索结果 |
| TC-018 | 搜索结果高亮 | 无 | 1. 搜索"普吉岛" | 结果中"普吉岛"关键词高亮显示 |
| TC-019 | 搜索无结果 | 无 | 1. 搜索不存在的关键词"xyz123" | 显示"暂无结果"提示 |
| TC-020 | 排序功能 | 无 | 1. 在搜索页点击排序下拉<br>2. 选择排序方式 | 结果按选择方式排序 |

---

### 六、F005 民宿详情与预订

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-021 | 查看民宿详情 | 无 | 1. 访问首页<br>2. 点击任意房源卡片 | 跳转到详情页，显示完整信息 |
| TC-022 | 详情页评价展示 | 无 | 1. 打开民宿详情页<br>2. 滚动到评价区域 | 显示评分、评价数量、评价列表 |
| TC-023 | 预订流程 | 已登录 | 1. 在详情页选择日期<br>2. 点击 Reserve | 显示预订确认信息 |

---

### 七、F020 移动端适配

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-024 | iPhone 首页 | 无 | 1. 设置视口 375x812<br>2. 访问首页 | 布局正常，无横向滚动 |
| TC-025 | 移动端菜单 | 移动端视口 | 1. 点击汉堡菜单按钮 | 弹出移动端导航菜单 |
| TC-026 | iPad 首页 | 无 | 1. 设置视口 768x1024<br>2. 访问首页 | 布局正常适配平板 |

---

### 八、管理后台

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-027 | 管理员登录 | 无 | 1. 访问 /#/admin<br>2. 输入 admin / admin123 | 登录成功，进入 Dashboard |
| TC-028 | Dashboard 数据 | 管理员登录 | 1. 查看 Dashboard | 显示收入、订单、用户等统计 |
| TC-029 | 订单管理 | 管理员登录 | 1. 点击"民宿订单" | 显示订单列表，可筛选 |

---

### 九、F021 错误边界

| 编号 | 用例名称 | 前置条件 | 测试步骤 | 预期结果 |
|------|---------|---------|---------|---------|
| TC-030 | 404 页面 | 无 | 1. 访问不存在的路由 /#/not-exist | 显示首页或 404 提示 |

---

## 测试结果汇总表

| 编号 | 用例名称 | 状态 | 备注 |
|------|---------|------|------|
| TC-001 | 用户登录 | ⬜ 待测 | |
| TC-002 | 错误密码登录 | ⬜ 待测 | |
| TC-003 | 用户登出 | ⬜ 待测 | |
| TC-004 | 未登录访问用户中心 | ⬜ 待测 | |
| TC-005 | 语言切换菜单 | ⬜ 待测 | |
| TC-006 | 切换到泰语 | ⬜ 待测 | |
| TC-007 | 切换到中文 | ⬜ 待测 | |
| TC-008 | 语言持久化 | ⬜ 待测 | |
| TC-009 | 用户中心页面 | ⬜ 待测 | |
| TC-010 | 用户统计信息 | ⬜ 待测 | |
| TC-011 | 我的订单标签 | ⬜ 待测 | |
| TC-012 | 我的收藏标签 | ⬜ 待测 | |
| TC-013 | 收藏民宿 | ⬜ 待测 | |
| TC-014 | 取消收藏 | ⬜ 待测 | |
| TC-015 | 未登录收藏 | ⬜ 待测 | |
| TC-016 | 收藏状态同步 | ⬜ 待测 | |
| TC-017 | 关键词搜索 | ⬜ 待测 | |
| TC-018 | 搜索结果高亮 | ⬜ 待测 | |
| TC-019 | 搜索无结果 | ⬜ 待测 | |
| TC-020 | 排序功能 | ⬜ 待测 | |
| TC-021 | 查看民宿详情 | ⬜ 待测 | |
| TC-022 | 详情页评价展示 | ⬜ 待测 | |
| TC-023 | 预订流程 | ⬜ 待测 | |
| TC-024 | iPhone 首页 | ⬜ 待测 | |
| TC-025 | 移动端菜单 | ⬜ 待测 | |
| TC-026 | iPad 首页 | ⬜ 待测 | |
| TC-027 | 管理员登录 | ⬜ 待测 | |
| TC-028 | Dashboard 数据 | ⬜ 待测 | |
| TC-029 | 订单管理 | ⬜ 待测 | |
| TC-030 | 404 页面 | ⬜ 待测 | |

**状态说明**: ✅ 通过 | ❌ 失败 | ⚠️ 部分通过 | ⬜ 待测
